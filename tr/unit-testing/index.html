



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Bu sayfada unit testlerin yazılış amacı, uygulanış biçimleri, test için uygun tasarım desenleri ve test yazarken önüne geçilebilecek hatalar anlatılmaktadır.">
      
      
        <link rel="canonical" href="https://mgurdal.github.io/go/tr/unit-testing/">
      
      
        <meta name="author" content="Mehmet Gürdal">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.2.0">
    
    
      
        <title>Unit Testing - Go Tutorial</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.750b69bd.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/css/extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#unit-testing" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://mgurdal.github.io/go" title="Go Tutorial" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Go Tutorial
            </span>
            <span class="md-header-nav__topic">
              Unit Testing
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://mgurdal.github.io/go" title="Go Tutorial" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Go Tutorial
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../data-structures/" title="Data Structures" class="md-nav__link">
      Data Structures
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../concurrency/" title="Concurrency" class="md-nav__link">
      Concurrency
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#giris" title="Giriş" class="md-nav__link">
    Giriş
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#test-etmek" title="Test etmek" class="md-nav__link">
    Test etmek
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yeni-ozellikler-eklemek" title="Yeni Özellikler Eklemek" class="md-nav__link">
    Yeni Özellikler Eklemek
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gelistirme-disiplini" title="Geliştirme Disiplini" class="md-nav__link">
    Geliştirme Disiplini
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#daha-fazla-ozellik" title="Daha fazla özellik" class="md-nav__link">
    Daha fazla özellik
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#yeni-dil" title="Yeni dil" class="md-nav__link">
    Yeni dil
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#real-world-example" title="Real World Example" class="md-nav__link">
    Real World Example
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mocking" title="Mocking" class="md-nav__link">
    Mocking
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table-test" title="Table Test" class="md-nav__link">
    Table Test
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anti-patternler" title="Anti-Patternler" class="md-nav__link">
    Anti-Patternler
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="unit-testing">Unit Testing</h1>
<blockquote>
<p>Code without tests is broken as designed.<br />
<a href="https://jacobian.org/">Jacob Kaplan-Moss</a></p>
</blockquote>
<h2 id="giris">Giriş</h2>
<p>Unit testing, projedeki fonksiyonel her bir birimin tüm davranışlarının test edildiği yazılım test yöntemidir. Biraz daha açmak gerekirse; bir birim, testi mümkün olan en küçük yazılım bileşenidir ve çoğunlukla tek bir iş, yapmakla görevlidir. </p>
<p>Unit testin amacı, programın küçük bölümlere ayırıp, tüm bölümlerin beklenildiği gibi çalıştığınından emin olmaktır.</p>
<p>Unit testleri yazılan bir projede:</p>
<ul>
<li>Projeye yeni eklenen kodun, istenildiği gibi çalışıp, çalışmadığını kontrol edilebilir.</li>
<li>Varolan kod düzenlendiğinde, projenin davranışının beklenmedik şekilde değiştirmediğinden emin olunur.</li>
<li>Yazılımcı, projeye eklenecek karmaşık özellikleri küçük, anlaşılır parçalara bölmesine dolayısıyla işe yarar minimum fonksiyonelliğe hızlıca erişip gereksiz optimizasyondan kaçınmasına yardımcı olur.</li>
<li>Ekibe yeni katılan yazılımcılar, testleri döküman olarak kullanabilir.</li>
</ul>
<blockquote>
<p>Testlerin bir projedeki bütün hataları çözmesi beklenmemelidir. Projelerde her zaman hata vardır. Bu hatalar, test edilmeyen bir durumdan, yanlış test etmekten veya testlerin kontrol edemeyeceği 3. parti kütüphanelerden, APIlerden, konfigürasyon sorunlarınlarında kaynaklı olabilir.</p>
</blockquote>
<h2 id="test-etmek">Test etmek</h2>
<div class="codehilite"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&quot;fmt&quot;</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;Hello, world&quot;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>


<p>Yukarıdaki kodu test etmeden önce yan etkilerden arındırmalıyız. Buradaki side-effect <code>Println</code> fonksiyonu.</p>
<div class="codehilite"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="s">&quot;fmt&quot;</span>

<span class="kd">func</span> <span class="nx">Hello</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">&quot;Hello, world&quot;</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">Hello</span><span class="p">())</span>
<span class="p">}</span>
</pre></div>


<p>Şimdi <code>Hello</code> fonksiyonunu için test yazalım.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">TestHello</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">()</span>
    <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Hello, world&quot;</span>

    <span class="k">if</span> <span class="nx">got</span> <span class="o">!=</span> <span class="nx">want</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Go testlerini çalıştırmak için ek araçlara veya frameworklere ihtiyacımız yok. Sadece <code>go test</code> komutu ile yazdığımız testleri çalıştırabiliriz.</p>
<p><img alt="" src=".gitbook/assets/image%20%283%29.png" /></p>
<p>Test yazmanın belirli kurallar çerçevesinde fonksiyonlar yazmaktan farkı yoktur. Bu fonksiyonların test olarak kabul edilmesi için:</p>
<ul>
<li><code>xxx_test.go</code> gibi bir dosya içinde olması</li>
<li>Fonksiyon isminin <code>Test</code> ile başlaması</li>
<li>Fonksiyonun yalnızca <code>t *testing.T</code> parametresini alması gerekir.</li>
</ul>
<h2 id="yeni-ozellikler-eklemek"><strong>Yeni Özellikler Eklemek</strong></h2>
<p><img alt="Source: https://openclassrooms.com/en/courses/4554386-enhance-an-existing-app-using-test-driven-development/5095731-understand-the-red-green-refactor-methodology" src=".gitbook/assets/image%20%2812%29.png" /></p>
<p>Test başarılı bir şekilde çalıştığına göre artık uygulamaya yeni özellikler ekleyebiliriz.</p>
<p>Şimdi Hello fonksiyonu parametre olarak bir isim alsın ve o ismi selamlasın.<br />
Bunun için öncellikle kodun yeni halini test eden ve başarısız olan bir test yazacağız.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">TestHello</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;Mehmet&quot;</span><span class="p">)</span>
    <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Hello, Mehmet&quot;</span>

    <span class="k">if</span> <span class="nx">got</span> <span class="o">!=</span> <span class="nx">want</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p><img alt="" src=".gitbook/assets/image%20%287%29.png" /></p>
<p>Testi geçirecek kadar kod yazalım.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">&quot;Hello, Mehmet&quot;</span>
<span class="p">}</span>
</pre></div>


<blockquote>
<p>Yukarıdaki örnekte amacımızın dışında bir kod yazarak testin geçmesini sağladık. Bu örnek her ne kadar abes dursada, bu tür durumlar daha büyük ölçekli işlerde başımıza gelebilir ve fark edilmediğinde anlaşılması zor buglar ortaya çıkartabilir.</p>
</blockquote>
<p>Eklediğimiz özelliğin düzgün çalıştığından emin olmak için bir test daha ekleyelim.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">TestHello</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;Mehmet&quot;</span><span class="p">)</span>
    <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Hello, Mehmet&quot;</span>

    <span class="k">if</span> <span class="nx">got</span> <span class="o">!=</span> <span class="nx">want</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">TestHelloWithAnotherName</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;Ahmet&quot;</span><span class="p">)</span>
    <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Hello, Ahmet&quot;</span>

    <span class="k">if</span> <span class="nx">got</span> <span class="o">!=</span> <span class="nx">want</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p><img alt="" src=".gitbook/assets/image%20%284%29.png" /></p>
<p>Şimdi de testi geçecek kodu yazalım.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s">&quot;Hello, &quot;</span> <span class="o">+</span> <span class="nx">name</span>
<span class="p">}</span>
</pre></div>


<blockquote>
<p>Bu aşamada elimizde testleri ile birlikte çalışan yeni özelliği commit edebiliriz.</p>
</blockquote>
<p>Bu aşamada, TDD yaşam döngüsü gereği kod refactor edilmeye çalışılır. "Hello, " her durumda sabit olduğu için globalde tanımlayabiliriz.</p>
<div class="codehilite"><pre><span></span><span class="kd">const</span> <span class="nx">englishHelloPrefix</span> <span class="p">=</span> <span class="s">&quot;Hello, &quot;</span>

<span class="kd">func</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">englishHelloPrefix</span> <span class="o">+</span> <span class="nx">name</span>
<span class="p">}</span>
</pre></div>


<blockquote>
<p>Refactor yapıldıktan sonra mutlaka testler yeniden çalıştırılmalı ve kod davranışının değişmediğinden emin olunmalıdır.</p>
</blockquote>
<p>Şimdi uygulamamıza bir özellik daha ekleyelim. Bu kez <code>Hello</code> fonksiyonuna boş isim verilince ön tanımlı mesajla selamlasın.</p>
<p>Tabiki önce testini yazıyoruz.</p>
<p>Aynı kod parçası için yazılan testleri tek fonksiyon altında toplayabiliriz. <code>t.Run</code> yapısı sayesinde verdiğimiz farklı test mesajları ile birlikte testleri bir araya getirebiliriz. </p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">TestHello</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;Say hello to a specific name&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;Mehmet&quot;</span><span class="p">)</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Hello, Mehmet&quot;</span>

        <span class="k">if</span> <span class="nx">got</span> <span class="o">!=</span> <span class="nx">want</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">})</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;Say &#39;Hello, Dude&#39; when an empty string is provided&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Hello, Dude&quot;</span>

        <span class="k">if</span> <span class="nx">got</span> <span class="o">!=</span> <span class="nx">want</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>


<blockquote>
<p>Refactoring sadece <em>business logic</em> içeren kodlar için değildir. Test kodlarına da projede tıpkı diğer kodlar gibi yaklaşılmalıdır.</p>
</blockquote>
<p>Bu aşamada testlerimizde tekrar eden kısımlar için bir fonksiyon yazabiliriz.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">TestHello</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">assertCorrectMessage</span> <span class="o">:=</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">Helper</span><span class="p">()</span>
        <span class="k">if</span> <span class="nx">got</span> <span class="o">!=</span> <span class="nx">want</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;Say hello to a specific name&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;Mehmet&quot;</span><span class="p">)</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Hello, Mehmet&quot;</span>
        <span class="nx">assertCorrectMessage</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">})</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;Say &#39;Hello, Dude&#39; when an empty string is provided&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Hello, Dude&quot;</span>
        <span class="nx">assertCorrectMessage</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>


<p>Şimdi elimizde düzgün bir şekilde yazılmış hata veren bir test var. Uygulamaya testi geçmek için yeterli kodu yazalım.</p>
<div class="codehilite"><pre><span></span><span class="kd">const</span> <span class="nx">englishHelloPrefix</span> <span class="p">=</span> <span class="s">&quot;Hello, &quot;</span>

<span class="kd">func</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">name</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">{</span>
        <span class="nx">name</span> <span class="p">=</span> <span class="s">&quot;Dude&quot;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">englishHelloPrefix</span> <span class="o">+</span> <span class="nx">name</span>
<span class="p">}</span>
</pre></div>


<p>Böylece uygulamamıza önceki özellikleri etkilemeden yeni bir özellik eklemiş olduk.</p>
<blockquote>
<p>Bu aşamada eski commiti amend edip, fonksiyonumuzu yeni versiyonu ile değiştirebiliriz.</p>
</blockquote>
<h3 id="gelistirme-disiplini">Geliştirme Disiplini</h3>
<ul>
<li>Yeni özelliği kullanan bir test yaz</li>
<li>Kodun derlendiğinden emin ol</li>
<li>Testi çalıştır, hatayı gözlemle</li>
<li>Testi geçirecek minimum kodu yaz</li>
<li>Refactor</li>
</ul>
<p>Bu kadar adım zahmetli ve paranoyakça gelebilir fakat her adımda kodun durumunu kontrol etmek oldukça önemlidir.</p>
<p>Bu disipline sadık kalarak sadece amacına uygun testler yazmakla kalmayız aynı zamanda otomatikleştirilmiş testlerle sürekli düzenlenen ve iyi şekilde tasarlanan bir yazılım geliştirmiş oluruz.</p>
<p>Testlerin ne için yazıldığını anlaşılır bir şekilde hata mesajında göstermek çok önemlidir. Yazılımcının, testin neden hata verdiğini anlayamaması problemi çözmeyi zorlaştıracaktır.</p>
<p>Testlerin hızlı çalışması ve kolay bir şekilde çalıştırılabilmesi gerekir. Bu akıcı bir şekilde kod yazmamızı sağlayacaktır.</p>
<p>Testsiz kod yazarak, uygulamanın akışını ve olası her durumunu kontrol etme işini kendinize yüklemiş olursunuz. Bu da uzun dönemde ciddi vakit kaybına yol açacaktır.</p>
<h3 id="daha-fazla-ozellik">Daha fazla özellik</h3>
<p>Yeni isteğe göre uygulamamıza dil desteği ekleyeceğiz. Eğer dil sistemimiz tarafından destekleniyorsa selamlama mesajı verilen dilde sağlanacak. Desteklenmiyorsa ön tanımlı olan İngilizce mesaj gönderilecek.</p>
<p>Başlangıç olarak Fransızca dil desteği için test yazalım.</p>
<div class="codehilite"><pre><span></span><span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;in French&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;Lara Fabian&quot;</span><span class="p">,</span> <span class="s">&quot;French&quot;</span><span class="p">)</span>
    <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Bonjour, Lara Fabian&quot;</span>
    <span class="nx">assertCorrectMessage</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
<span class="p">})</span>
</pre></div>


<blockquote>
<p>Bu haliyle <code>Hello</code> tek parametre aldığı için compiler hata verecektir. Bu adımda, hile yapıp doğrudan kodu yazmaktan kaçınmalıyız.</p>
</blockquote>
<p>Fonksiyona gerekli olan 2. parametreyi ekleyelim.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">language</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">name</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">{</span>
        <span class="nx">name</span> <span class="p">=</span> <span class="s">&quot;Dude&quot;</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">englishHelloPrefix</span> <span class="o">+</span> <span class="nx">name</span>
<span class="p">}</span>
</pre></div>


<p>Testleri çalıştırdığımızda, yeni özelliğe göre tasarlanmadığı için eski testler hata verecektir. Eski testlere parametre olarak boş string vererek compiler hatasından kurtulalım. Bu durumda, sadece yeni eklediğimiz testin fail olması gerekir.</p>
<p>Şimdi response bodyi  </p>
<p><img alt="" src=".gitbook/assets/image%20%286%29.png" /></p>
<p>Yeni bir <code>if</code> ekleyerek Fransızca için yazdığımız testi geçebiliriz.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">language</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">name</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">{</span>
        <span class="nx">name</span> <span class="p">=</span> <span class="s">&quot;Dude&quot;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="nx">language</span> <span class="o">==</span> <span class="s">&quot;French&quot;</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s">&quot;Bonjour, &quot;</span> <span class="o">+</span> <span class="nx">name</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">englishHelloPrefix</span> <span class="o">+</span> <span class="nx">name</span>
<span class="p">}</span>
</pre></div>


<p>Bu haliyle bütün testleri başarılı olması gerekiyor.</p>
<p>Şimdi kodumuzu <em>refactor</em>  edebiliriz. İşe, kod içinde tanımlı stringlerden başlayabiliriz. <br />
<em>Yapılan her değişiklikte testlerin başarılı olduğunu kontrol etmeliyiz.</em></p>
<div class="codehilite"><pre><span></span><span class="kd">const</span> <span class="nx">french</span> <span class="p">=</span> <span class="s">&quot;French&quot;</span>
<span class="kd">const</span> <span class="nx">englishHelloPrefix</span> <span class="p">=</span> <span class="s">&quot;Hello, &quot;</span>
<span class="kd">const</span> <span class="nx">frenchHelloPrefix</span> <span class="p">=</span> <span class="s">&quot;Bonjour, &quot;</span>

<span class="kd">func</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">language</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">name</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">{</span>
        <span class="nx">name</span> <span class="p">=</span> <span class="s">&quot;Dude&quot;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="nx">language</span> <span class="o">==</span> <span class="nx">french</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">frenchHelloPrefix</span> <span class="o">+</span> <span class="nx">name</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">englishHelloPrefix</span> <span class="o">+</span> <span class="nx">name</span>
<span class="p">}</span>
</pre></div>


<h4 id="yeni-dil">Yeni dil</h4>
<p>Şimdi Koreceye de destek verelim. Bunun için daha önce yaptığımız gibi:</p>
<ul>
<li>Korean yazdığımızda 안녕 ile başlayan bir mesaj bekleyen test yazacağız</li>
<li>Testi çalıştırıp hata alacağız ve hata mesajının düzgün olduğuna dikkat edeceğiz</li>
<li>Kod üzerinde testi geçecek minimum değişikliği yapacağız</li>
</ul>
<p>Değişikliklerden sonra elimizde aşağı yukarı böyle bir kod olacak:</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">TestHello</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">assertCorrectMessage</span> <span class="o">:=</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">Helper</span><span class="p">()</span>
        <span class="k">if</span> <span class="nx">got</span> <span class="o">!=</span> <span class="nx">want</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;Say hello to a specific name&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;Mehmet&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Hello, Mehmet&quot;</span>
        <span class="nx">assertCorrectMessage</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">})</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;Say &#39;Hello, Dude&#39; when an empty string is provided&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Hello, Dude&quot;</span>
        <span class="nx">assertCorrectMessage</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">})</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;in French&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;Lara Fabian&quot;</span><span class="p">,</span> <span class="s">&quot;French&quot;</span><span class="p">)</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;Bonjour, Lara Fabian&quot;</span>
        <span class="nx">assertCorrectMessage</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">})</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;in Korean&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">got</span> <span class="o">:=</span> <span class="nx">Hello</span><span class="p">(</span><span class="s">&quot;세상&quot;</span><span class="p">,</span> <span class="s">&quot;Korean&quot;</span><span class="p">)</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="s">&quot;안녕 세상&quot;</span>
        <span class="nx">assertCorrectMessage</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">})</span>
<span class="p">}</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="kd">const</span> <span class="nx">french</span> <span class="p">=</span> <span class="s">&quot;French&quot;</span>
<span class="kd">const</span> <span class="nx">korean</span> <span class="p">=</span> <span class="s">&quot;Korean&quot;</span>

<span class="kd">const</span> <span class="nx">englishHelloPrefix</span> <span class="p">=</span> <span class="s">&quot;Hello, &quot;</span>
<span class="kd">const</span> <span class="nx">frenchHelloPrefix</span> <span class="p">=</span> <span class="s">&quot;Bonjour, &quot;</span>
<span class="kd">const</span> <span class="nx">koreanHelloPrefix</span> <span class="p">=</span> <span class="s">&quot;안녕 &quot;</span>

<span class="kd">func</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">language</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">name</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">{</span>
        <span class="nx">name</span> <span class="p">=</span> <span class="s">&quot;Dude&quot;</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="nx">language</span> <span class="o">==</span> <span class="nx">french</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">frenchHelloPrefix</span> <span class="o">+</span> <span class="nx">name</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="nx">language</span> <span class="o">==</span> <span class="nx">korean</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">koreanHelloPrefix</span> <span class="o">+</span> <span class="nx">name</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">englishHelloPrefix</span> <span class="o">+</span> <span class="nx">name</span>
<span class="p">}</span>
</pre></div>


<p>Yeni özelliğimizi, çalışan testi ile eklediğimize göre şimdi kodumuzu refactor edebiliriz.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">Hello</span><span class="p">(</span><span class="nx">name</span> <span class="kt">string</span><span class="p">,</span> <span class="nx">language</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">string</span> <span class="p">{</span>
    <span class="k">if</span> <span class="nx">name</span> <span class="o">==</span> <span class="s">&quot;&quot;</span> <span class="p">{</span>
        <span class="nx">name</span> <span class="p">=</span> <span class="s">&quot;Dude&quot;</span>
    <span class="p">}</span>

    <span class="nx">prefix</span> <span class="o">:=</span> <span class="nx">englishHelloPrefix</span>

    <span class="k">switch</span> <span class="nx">language</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nx">french</span><span class="p">:</span>
        <span class="nx">prefix</span> <span class="p">=</span> <span class="nx">frenchHelloPrefix</span>
    <span class="k">case</span> <span class="nx">korean</span><span class="p">:</span>
        <span class="nx">prefix</span> <span class="p">=</span> <span class="nx">koreanHelloPrefix</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">prefix</span> <span class="o">+</span> <span class="nx">name</span>
<span class="p">}</span>
</pre></div>


<h2 id="real-world-example">Real World Example</h2>
<p>Gerçek bir uygulamaya testlerin nasıl yazıldığını incelemek için https://randomuser.me/api/ APIsinden kullanıcıları çeken bir HTTP Client yazalım. UserClient yapısı ile, verilerin çekileceği URLi, kaç sayfa veri çekeceğini ve her sayfada ne kadar veri alacağı  ve de HTTP isteklerinin atılacağı kütüphane belirliyoruz.</p>
<div class="codehilite"><pre><span></span><span class="kd">type</span> <span class="nx">UserClient</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">BaseUrl</span>                  <span class="kt">string</span>
    <span class="nx">TaskCount</span><span class="p">,</span> <span class="nx">ResultPerPage</span> <span class="kt">int</span>
<span class="p">}</span>

<span class="nx">uc</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">UserClient</span><span class="p">{</span>
    <span class="nx">BaseUrl</span><span class="p">:</span>       <span class="s">&quot;https://randomuser.me/api/&quot;</span><span class="p">,</span>
    <span class="nx">TaskCount</span><span class="p">:</span>     <span class="mi">20</span><span class="p">,</span>
    <span class="nx">ResultPerPage</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="nx">requester</span><span class="p">:</span>     <span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">{},</span>
<span class="p">}</span>

<span class="nx">user</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">uc</span><span class="p">.</span><span class="nx">Get</span><span class="p">()</span>
<span class="nx">users</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">uc</span><span class="p">.</span><span class="nx">FetchAll</span><span class="p">()</span>
<span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">res</span><span class="p">))</span> <span class="c1">// 2000</span>
</pre></div>


<h3 id="mocking">Mocking</h3>
<p>Unit testlerin çalıştığı ortamdan, dış kaynaklardan ve kütüphanelerden bağımsız olması gerekir. Bu yüzden <code>http.Client</code> aynı davranışı sergileyen fakat sahte veri dönen başka bir modül ile değiştirilmeli.</p>
<p>Ortak davranışlara sahip modüller geliştirmenin en kolay yolu ortak interface kullanmak. http.Clientin kullanacağımız methodlarına sahip Requester adında bir interface tanımlayalım. </p>
<div class="codehilite"><pre><span></span><span class="kd">type</span> <span class="nx">Requester</span> <span class="kd">interface</span> <span class="p">{</span>
    <span class="nx">Get</span><span class="p">(</span><span class="nx">url</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">UserClient</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">BaseUrl</span>                  <span class="kt">string</span>
    <span class="nx">TaskCount</span><span class="p">,</span> <span class="nx">ResultPerPage</span> <span class="kt">int</span>

    <span class="nx">requester</span> <span class="nx">Requester</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">UserClient</span><span class="p">)</span> <span class="nx">Get</span><span class="p">()</span> <span class="p">(</span><span class="nx">response</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{},</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">UserClient</span><span class="p">)</span> <span class="nx">FetchAll</span><span class="p">()</span> <span class="p">(</span><span class="nx">result</span> <span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{},</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
<span class="p">}</span>
</pre></div>


<p>Testleri çalıştırırken kullanacağımız, http.Client gibi Requesteri implement eden sahte bir client oluşturalım ve FakeClientı kullanarak UserClient için bir test yazalım.</p>
<div class="codehilite"><pre><span></span><span class="kd">type</span> <span class="nx">FakeClient</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">Body</span>  <span class="p">[]</span><span class="kt">byte</span>
    <span class="nx">Error</span> <span class="kt">error</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">FakeClient</span><span class="p">)</span> <span class="nx">Get</span><span class="p">(</span><span class="nx">url</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resp</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">{</span>
        <span class="nx">Body</span><span class="p">:</span> <span class="nx">ioutil</span><span class="p">.</span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewBuffer</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">Body</span><span class="p">)),</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">resp</span><span class="p">,</span> <span class="nx">c</span><span class="p">.</span><span class="nx">Error</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">TestGetUser</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">userclient</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">UserClient</span><span class="p">{}</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;get userclient returns err on bad response&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">userclient</span><span class="p">.</span><span class="nx">requester</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
            <span class="nx">Error</span><span class="p">:</span> <span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;Bad Request&quot;</span><span class="p">),</span>
        <span class="p">}</span>

        <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">userclient</span><span class="p">.</span><span class="nx">Get</span><span class="p">()</span>
        <span class="k">if</span> <span class="nx">err</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="s">&quot;Expected to get an error&quot;</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">})</span>

<span class="p">}</span>
</pre></div>


<p>http.Clienti, sahtesi ile aşağıdaki şekilde değiştirdik.</p>
<div class="codehilite"><pre><span></span><span class="nx">userclient</span><span class="p">.</span><span class="nx">requester</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
    <span class="nx">Body</span><span class="p">:</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">`{&quot;status&quot;: &quot;ok&quot;}`</span><span class="p">),</span>
<span class="p">}</span>
</pre></div>


<p>FakeClient aldığı Body verisini Get methodu çalıştırıldığında bize http.Clientinkine benzer şekilde dönecek.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">FakeClient</span><span class="p">)</span> <span class="nx">Get</span><span class="p">(</span><span class="nx">url</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resp</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">{</span>
        <span class="nx">Body</span><span class="p">:</span> <span class="nx">ioutil</span><span class="p">.</span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewBuffer</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">Body</span><span class="p">)),</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">resp</span><span class="p">,</span> <span class="nx">c</span><span class="p">.</span><span class="nx">Error</span>
<span class="p">}</span>
</pre></div>


<p>Artık elimizde fail olan bir test var. Bu testi geçecek kodu yazabiliriz.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">UserClient</span><span class="p">)</span> <span class="nx">Get</span><span class="p">()</span> <span class="p">(</span><span class="nx">response</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{},</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">err</span> <span class="o">:=</span> <span class="nx">erros</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;Error&quot;</span><span class="p">)</span>
    <span class="k">return</span>
<span class="p">}</span>
</pre></div>


<p>Şimdi de response bodyi kontrol eden bir test yazalım.</p>
<div class="codehilite"><pre><span></span><span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;get userclient returns err if response body invalid&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">userclient</span><span class="p">.</span><span class="nx">requester</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{}</span>

    <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">userclient</span><span class="p">.</span><span class="nx">Get</span><span class="p">()</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="s">&quot;Expected to get an error&quot;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">})</span>
</pre></div>


<p>Artık testi geçmek için kod yazabiliriz.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">UserClient</span><span class="p">)</span> <span class="nx">Get</span><span class="p">()</span> <span class="p">(</span><span class="nx">response</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{},</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">url</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nx">Sprintf</span><span class="p">(</span><span class="s">&quot;%s?results=%d&quot;</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">BaseUrl</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">ResultPerPage</span><span class="p">)</span>

    <span class="nx">res</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">requester</span><span class="p">.</span><span class="nx">Get</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>Son olarak başarılı response durumunu test edelim.</p>
<div class="codehilite"><pre><span></span><span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;get userclient returns unmarshalled response body on success&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">userclient</span><span class="p">.</span><span class="nx">requester</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
        <span class="nx">Body</span><span class="p">:</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">`{&quot;status&quot;: &quot;ok&quot;}`</span><span class="p">),</span>
    <span class="p">}</span>
    <span class="nx">got</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">userclient</span><span class="p">.</span><span class="nx">Get</span><span class="p">()</span>
    <span class="nx">want</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{</span>
        <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;ok&quot;</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">!</span><span class="nx">reflect</span><span class="p">.</span><span class="nx">DeepEqual</span><span class="p">(</span><span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">})</span>
</pre></div>


<p>Artık byte JSONu düzgünce <em>parse</em> eden bir kod yazmamız gerekiyor.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">UserClient</span><span class="p">)</span> <span class="nx">Get</span><span class="p">()</span> <span class="p">(</span><span class="nx">response</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{},</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">url</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nx">Sprintf</span><span class="p">(</span><span class="s">&quot;%s?results=%d&quot;</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">BaseUrl</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">ResultPerPage</span><span class="p">)</span>

    <span class="nx">res</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">requester</span><span class="p">.</span><span class="nx">Get</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="nx">res</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
    <span class="nx">buf</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span><span class="p">)</span>
    <span class="nx">buf</span><span class="p">.</span><span class="nx">ReadFrom</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
    <span class="nx">newStr</span> <span class="o">:=</span> <span class="nx">buf</span><span class="p">.</span><span class="nx">String</span><span class="p">()</span>
    <span class="kd">var</span> <span class="nx">data</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span>
    <span class="nx">err</span> <span class="p">=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">newStr</span><span class="p">),</span> <span class="o">&amp;</span><span class="nx">data</span><span class="p">)</span>
    <span class="nx">response</span> <span class="p">=</span> <span class="nx">data</span>
    <span class="k">return</span>
<span class="p">}</span>
</pre></div>


<h3 id="table-test">Table Test</h3>
<p>Kod tekrarını azaltmak için <em>table driven test</em>  yöntemini kullanabiliriz.</p>
<div class="codehilite"><pre><span></span><span class="kd">func</span> <span class="nx">TestFetchAll</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">testCases</span> <span class="o">:=</span> <span class="p">[]</span><span class="kd">struct</span> <span class="p">{</span>
        <span class="nx">name</span>     <span class="kt">string</span>
        <span class="nx">client</span>   <span class="o">*</span><span class="nx">UserClient</span>
        <span class="nx">expected</span> <span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span>
    <span class="p">}{</span>
        <span class="p">{</span>
            <span class="s">&quot;get userclient returns err on bad response&quot;</span><span class="p">,</span>
            <span class="o">&amp;</span><span class="nx">UserClient</span><span class="p">{</span>
                <span class="nx">ResultPerPage</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nx">TaskCount</span><span class="p">:</span>     <span class="mi">0</span><span class="p">,</span>
                <span class="nx">requester</span><span class="p">:</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
                    <span class="nx">Body</span><span class="p">:</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">`{&quot;results&quot;: [{&quot;test&quot;: &quot;ok&quot;}]`</span><span class="p">),</span>
                <span class="p">},</span>
            <span class="p">},</span>
            <span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{},</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">&quot;get userclient returns err if response body invalid&quot;</span><span class="p">,</span>
            <span class="o">&amp;</span><span class="nx">UserClient</span><span class="p">{</span>
                <span class="nx">ResultPerPage</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nx">TaskCount</span><span class="p">:</span>     <span class="mi">1</span><span class="p">,</span>
                <span class="nx">requester</span><span class="p">:</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
                    <span class="nx">Body</span><span class="p">:</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">`{&quot;results&quot;: [{&quot;test&quot;: &quot;ok&quot;}]`</span><span class="p">),</span>
                <span class="p">},</span>
            <span class="p">},</span> <span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{},</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="s">&quot;get userclient returns unmarshalled response body on success&quot;</span><span class="p">,</span>
            <span class="o">&amp;</span><span class="nx">UserClient</span><span class="p">{</span>
                <span class="nx">ResultPerPage</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nx">TaskCount</span><span class="p">:</span>     <span class="mi">1</span><span class="p">,</span>
                <span class="nx">requester</span><span class="p">:</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
                    <span class="nx">Body</span><span class="p">:</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">`{&quot;results&quot;: [{&quot;test&quot;: &quot;ok&quot;}]`</span><span class="p">),</span>
                <span class="p">},</span>
            <span class="p">},</span> <span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{},</span>
        <span class="p">},</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">tt</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">testCases</span> <span class="p">{</span>
        <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="nx">tt</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">got</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">tt</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">FetchAll</span><span class="p">()</span>
            <span class="k">if</span> <span class="p">!</span><span class="nx">reflect</span><span class="p">.</span><span class="nx">DeepEqual</span><span class="p">(</span><span class="nx">got</span><span class="p">,</span> <span class="nx">tt</span><span class="p">.</span><span class="nx">expected</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">tt</span><span class="p">.</span><span class="nx">expected</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<h2 id="anti-patternler">Anti-Patternler</h2>
<p><strong>İkinci Sınıf Vatandaşlık<br />
D</strong>iğer kodları yazarken uyguladığımız yazılım prensipleri test kodları için de geçerli.<br />
<strong>Obsessive Coverage</strong><br />
Test coverageın yüksek olması, projenin bütün durumlarının test edildiğini göstermez. Bir projenin düzgün test edildiğinin göstergesi sadece coverage raporları değildir.<br />
<strong>Structural Inspection</strong><br />
Projede structların, ve diğer veri yapılarının aldıkları değerleri değil methodları ve fonksiyonların davranışlarını test etmeliyiz.<br />
<strong>God Object</strong><br />
Test edilmesi zor, büyük yapılar parçalanmalıdır. Eğer test ettiğimiz kod çok fazla mock kullandırıyorsa bu God Objectin belirtisi olabilir.<br />
<strong>Mockery</strong><br />
Testlerde aşırı mock kullanımı, uygulama davranışını değil mockerların değerlerini test etmemizle sonuçlanır.<br />
<strong>Instance Reuse</strong><br />
Test edilen yapılar, çalıştırılan her test için yeniden üretilmelidir.<br />
<strong>Local Hero</strong><br />
Testler çalıştığı ortamdan ve makineden bağımsız olmalıdır.<br />
<strong>Happy Path Testing</strong><br />
Uygulamada sadece başarılı sonuçları değil, olası bütün durumları test etmeliyiz.<br />
<strong>Kötü İsimlendirme (Sıralı İsimlendirme)</strong><br />
Testlerin isimleri ve mesajları açıklayıcı ve ayırt edici olmalıdır.<br />
<strong>Yeni Test Yerine Assertion Ekleme</strong><br />
Birime yeni özellik eklendiğinde, veya bir kısmı değiştirildiğinde var olan bir teste ekstra bir kontrol eklenmemelidir. Sadece bu durumu yeni bir test yazılmalıdır.</p>
<div class="codehilite"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;bytes&quot;</span>
    <span class="s">&quot;encoding/json&quot;</span>
    <span class="s">&quot;fmt&quot;</span>
    <span class="s">&quot;net/http&quot;</span>
<span class="p">)</span>

<span class="kd">type</span> <span class="nx">Requester</span> <span class="kd">interface</span> <span class="p">{</span>
    <span class="nx">Get</span><span class="p">(</span><span class="nx">url</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">type</span> <span class="nx">UserClient</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">BaseUrl</span>                  <span class="kt">string</span>
    <span class="nx">TaskCount</span><span class="p">,</span> <span class="nx">ResultPerPage</span> <span class="kt">int</span>

    <span class="nx">requester</span> <span class="nx">Requester</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">UserClient</span><span class="p">)</span> <span class="nx">Get</span><span class="p">()</span> <span class="p">(</span><span class="nx">response</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{},</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">url</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nx">Sprintf</span><span class="p">(</span><span class="s">&quot;%s?results=%d&quot;</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">BaseUrl</span><span class="p">,</span> <span class="nx">d</span><span class="p">.</span><span class="nx">ResultPerPage</span><span class="p">)</span>

    <span class="nx">res</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">requester</span><span class="p">.</span><span class="nx">Get</span><span class="p">(</span><span class="nx">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="nx">err</span>
    <span class="p">}</span>
    <span class="k">defer</span> <span class="nx">res</span><span class="p">.</span><span class="nx">Body</span><span class="p">.</span><span class="nx">Close</span><span class="p">()</span>
    <span class="nx">buf</span> <span class="o">:=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">Buffer</span><span class="p">)</span>
    <span class="nx">buf</span><span class="p">.</span><span class="nx">ReadFrom</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">Body</span><span class="p">)</span>
    <span class="nx">newStr</span> <span class="o">:=</span> <span class="nx">buf</span><span class="p">.</span><span class="nx">String</span><span class="p">()</span>
    <span class="kd">var</span> <span class="nx">data</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}</span>
    <span class="nx">err</span> <span class="p">=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">Unmarshal</span><span class="p">([]</span><span class="nb">byte</span><span class="p">(</span><span class="nx">newStr</span><span class="p">),</span> <span class="o">&amp;</span><span class="nx">data</span><span class="p">)</span>
    <span class="nx">response</span> <span class="p">=</span> <span class="nx">data</span>
    <span class="k">return</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">d</span> <span class="o">*</span><span class="nx">UserClient</span><span class="p">)</span> <span class="nx">FetchAll</span><span class="p">()</span> <span class="p">(</span><span class="nx">result</span> <span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{},</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ch1</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{},</span> <span class="mi">1</span><span class="p">)</span>

    <span class="nx">expectedCount</span> <span class="o">:=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">TaskCount</span> <span class="o">*</span> <span class="nx">d</span><span class="p">.</span><span class="nx">ResultPerPage</span>
    <span class="nx">result</span> <span class="p">=</span> <span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{}</span>

    <span class="k">if</span> <span class="nx">d</span><span class="p">.</span><span class="nx">TaskCount</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">||</span> <span class="nx">d</span><span class="p">.</span><span class="nx">ResultPerPage</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">TaskCount</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
        <span class="k">go</span> <span class="kd">func</span><span class="p">(</span><span class="nx">ch</span> <span class="kd">chan</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span>
            <span class="nx">response</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">Get</span><span class="p">()</span>
            <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
                <span class="k">for</span> <span class="nx">j</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="p">&lt;</span> <span class="nx">d</span><span class="p">.</span><span class="nx">ResultPerPage</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">{</span>
                    <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{}</span>
                <span class="p">}</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">data</span> <span class="o">:=</span> <span class="nx">response</span><span class="p">[</span><span class="s">&quot;results&quot;</span><span class="p">].([]</span><span class="kd">interface</span><span class="p">{})</span>
                <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">datum</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">data</span> <span class="p">{</span>
                    <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="nx">datum</span><span class="p">.(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{})</span>
                <span class="p">}</span>
            <span class="p">}</span>

        <span class="p">}(</span><span class="nx">ch1</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="nx">data</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">ch1</span> <span class="p">{</span>
        <span class="nx">result</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">result</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">result</span><span class="p">)</span> <span class="o">==</span> <span class="nx">expectedCount</span> <span class="p">{</span>
            <span class="nb">close</span><span class="p">(</span><span class="nx">ch1</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">result</span><span class="p">,</span> <span class="kc">nil</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">uc</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">UserClient</span><span class="p">{</span>
        <span class="nx">BaseUrl</span><span class="p">:</span>       <span class="s">&quot;https://randomuser.me/api/&quot;</span><span class="p">,</span>
        <span class="nx">TaskCount</span><span class="p">:</span>     <span class="mi">20</span><span class="p">,</span>
        <span class="nx">ResultPerPage</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
        <span class="nx">requester</span><span class="p">:</span>     <span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Client</span><span class="p">{},</span>
    <span class="p">}</span>
    <span class="nx">res</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">uc</span><span class="p">.</span><span class="nx">FetchAll</span><span class="p">()</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">res</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>

<span class="kn">import</span> <span class="p">(</span>
    <span class="s">&quot;bytes&quot;</span>
    <span class="s">&quot;errors&quot;</span>
    <span class="s">&quot;io/ioutil&quot;</span>
    <span class="s">&quot;net/http&quot;</span>
    <span class="s">&quot;reflect&quot;</span>
    <span class="s">&quot;testing&quot;</span>
<span class="p">)</span>

<span class="kd">type</span> <span class="nx">FakeClient</span> <span class="kd">struct</span> <span class="p">{</span>
    <span class="nx">Body</span>  <span class="p">[]</span><span class="kt">byte</span>
    <span class="nx">Error</span> <span class="kt">error</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="o">*</span><span class="nx">FakeClient</span><span class="p">)</span> <span class="nx">Get</span><span class="p">(</span><span class="nx">url</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="nx">resp</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">,</span> <span class="nx">err</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">resp</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">{</span>
        <span class="nx">Body</span><span class="p">:</span> <span class="nx">ioutil</span><span class="p">.</span><span class="nx">NopCloser</span><span class="p">(</span><span class="nx">bytes</span><span class="p">.</span><span class="nx">NewBuffer</span><span class="p">(</span><span class="nx">c</span><span class="p">.</span><span class="nx">Body</span><span class="p">)),</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">resp</span><span class="p">,</span> <span class="nx">c</span><span class="p">.</span><span class="nx">Error</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">TestGetUser</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">userclient</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">UserClient</span><span class="p">{}</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;get userclient returns err on bad response&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">userclient</span><span class="p">.</span><span class="nx">requester</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
            <span class="nx">Error</span><span class="p">:</span> <span class="nx">errors</span><span class="p">.</span><span class="nx">New</span><span class="p">(</span><span class="s">&quot;Bad Request&quot;</span><span class="p">),</span>
        <span class="p">}</span>

        <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">userclient</span><span class="p">.</span><span class="nx">Get</span><span class="p">()</span>
        <span class="k">if</span> <span class="nx">err</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="s">&quot;Expected to get an error&quot;</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">})</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;get userclient returns err if response body invalid&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">userclient</span><span class="p">.</span><span class="nx">requester</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{}</span>

        <span class="nx">_</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">userclient</span><span class="p">.</span><span class="nx">Get</span><span class="p">()</span>
        <span class="k">if</span> <span class="nx">err</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Error</span><span class="p">(</span><span class="s">&quot;Expected to get an error&quot;</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">})</span>
    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;get userclient returns unmarshalled response body on success&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">userclient</span><span class="p">.</span><span class="nx">requester</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
            <span class="nx">Body</span><span class="p">:</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">`{&quot;status&quot;: &quot;ok&quot;}`</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="nx">got</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">userclient</span><span class="p">.</span><span class="nx">Get</span><span class="p">()</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{</span>
            <span class="s">&quot;status&quot;</span><span class="p">:</span> <span class="s">&quot;ok&quot;</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">!</span><span class="nx">reflect</span><span class="p">.</span><span class="nx">DeepEqual</span><span class="p">(</span><span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="p">})</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nx">TestFetchAll</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;fetchall returns empty list if task count is 0&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">userclient</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">UserClient</span><span class="p">{</span>
            <span class="nx">ResultPerPage</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nx">TaskCount</span><span class="p">:</span>     <span class="mi">0</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="nx">userclient</span><span class="p">.</span><span class="nx">requester</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
            <span class="nx">Body</span><span class="p">:</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">`{&quot;results&quot;: [{&quot;test&quot;: &quot;ok&quot;}]`</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="nx">got</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">userclient</span><span class="p">.</span><span class="nx">FetchAll</span><span class="p">()</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{}</span>
        <span class="k">if</span> <span class="p">!</span><span class="nx">reflect</span><span class="p">.</span><span class="nx">DeepEqual</span><span class="p">(</span><span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="p">})</span>
    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;fetchall returns empty list if per page is 0&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">userclient</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">UserClient</span><span class="p">{</span>
            <span class="nx">ResultPerPage</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nx">TaskCount</span><span class="p">:</span>     <span class="mi">1</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="nx">userclient</span><span class="p">.</span><span class="nx">requester</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
            <span class="nx">Body</span><span class="p">:</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">`{&quot;results&quot;: [{&quot;test&quot;: &quot;ok&quot;}]`</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="nx">got</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">userclient</span><span class="p">.</span><span class="nx">FetchAll</span><span class="p">()</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="p">[]</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kd">interface</span><span class="p">{}{}</span>
        <span class="k">if</span> <span class="p">!</span><span class="nx">reflect</span><span class="p">.</span><span class="nx">DeepEqual</span><span class="p">(</span><span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %q want %q&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="p">})</span>

    <span class="nx">t</span><span class="p">.</span><span class="nx">Run</span><span class="p">(</span><span class="s">&quot;fetchall returns the same amount of records with item count&quot;</span><span class="p">,</span> <span class="kd">func</span><span class="p">(</span><span class="nx">t</span> <span class="o">*</span><span class="nx">testing</span><span class="p">.</span><span class="nx">T</span><span class="p">)</span> <span class="p">{</span>

        <span class="nx">userclient</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">UserClient</span><span class="p">{</span>
            <span class="nx">TaskCount</span><span class="p">:</span>     <span class="mi">5</span><span class="p">,</span>
            <span class="nx">ResultPerPage</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="nx">userclient</span><span class="p">.</span><span class="nx">requester</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">FakeClient</span><span class="p">{</span>
            <span class="nx">Body</span><span class="p">:</span> <span class="p">[]</span><span class="nb">byte</span><span class="p">(</span><span class="s">`{&quot;results&quot;: [{&quot;test&quot;: &quot;ok&quot;}]`</span><span class="p">),</span>
        <span class="p">}</span>
        <span class="nx">res</span><span class="p">,</span> <span class="nx">_</span> <span class="o">:=</span> <span class="nx">userclient</span><span class="p">.</span><span class="nx">FetchAll</span><span class="p">()</span>
        <span class="nx">got</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">res</span><span class="p">)</span>
        <span class="nx">want</span> <span class="o">:=</span> <span class="mi">10</span>
        <span class="k">if</span> <span class="nx">got</span> <span class="o">!=</span> <span class="nx">want</span> <span class="p">{</span>
            <span class="nx">t</span><span class="p">.</span><span class="nx">Errorf</span><span class="p">(</span><span class="s">&quot;got %d want %d&quot;</span><span class="p">,</span> <span class="nx">got</span><span class="p">,</span> <span class="nx">want</span><span class="p">)</span>
        <span class="p">}</span>

    <span class="p">})</span>

<span class="p">}</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/mgurdal" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/mgurdal_" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/mgurdal" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.39abc4af.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>